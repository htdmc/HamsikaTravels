<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hamsika Travels - Luxury Group Tours</title>
    <link rel="stylesheet" href="style.css">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@300;400;600;700&display=swap" rel="stylesheet">
    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <a href="#" class="logo">Hamsika <span>Travels</span></a>
            <div class="nav-links">
                <a href="#home" class="nav-item">Home</a>
                <a href="#gallery" class="nav-item">Destinations</a>
                <a href="#admin" class="nav-item admin-btn"><i data-lucide="lock" class="icon-sm"></i> Admin</a>
            </div>
            <button class="mobile-menu-btn" onclick="toggleMobileMenu()">‚ò∞</button>
        </div>
    </nav>
    
    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <a href="#home" onclick="toggleMobileMenu()">Home</a>
        <a href="#gallery" onclick="toggleMobileMenu()">Destinations</a>
        <a href="#admin" onclick="toggleMobileMenu()">Admin</a>
    </div>

    <!-- Main Content Area -->
    <main id="app">
        <!-- Views will be injected here by script.js -->
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p>&copy; 2024 Hamsika Travels. All Rights Reserved.</p>
            <p class="small-text">Making memories across the globe.</p>
        </div>
    </footer>

    <!-- Templates (Hidden) -->
    
    <!-- Home Template -->
    <template id="template-home">
        <!-- Hero Section -->
        <section class="hero">
            <div class="hero-bg">
                <img src="https://images.unsplash.com/photo-1476514525535-07fb3b4ae5f1?w=1920&q=80" alt="Hero">
                <div class="overlay"></div>
            </div>
            <div class="hero-content container">
                <h1 class="fade-in">Discover the World With Us</h1>
                <p class="fade-in delay-1">Unforgettable Journeys, Curated for You</p>
                <a href="#gallery" class="btn btn-secondary fade-in delay-2">Explore Destinations</a>
            </div>
        </section>

        <!-- Gallery Section -->
        <section id="gallery" class="section">
            <div class="container">
                <div class="section-header">
                    <h2>Upcoming Tours</h2>
                    <p>Choose your next adventure from our handpicked itineraries</p>
                </div>
                <div class="gallery-grid" id="gallery-grid">
                    <!-- Gallery Items Injected Here -->
                </div>
            </div>
        </section>
    </template>

    <!-- Itinerary Detail Template -->
    <template id="template-itinerary">
        <div class="itinerary-page">
            <!-- Dynamic Hero -->
            <section class="hero-small">
                <div class="hero-bg">
                    <img id="detail-hero-img" src="" alt="Hero">
                    <div class="overlay"></div>
                </div>
                <div class="hero-content container">
                    <a href="#home" class="back-link"><i data-lucide="arrow-left"></i> Back to Gallery</a>
                    <h1 id="detail-title">Title</h1>
                    <p id="detail-subtitle">Subtitle</p>
                    <div class="price-tag">
                        <span id="detail-price">Price</span> <span class="per-person">/ Per Person</span>
                    </div>
                </div>
            </section>

            <!-- Timeline -->
            <section class="section">
                <div class="container">
                    <div class="section-header">
                        <h2>Tour Itinerary</h2>
                        <p id="detail-days-count">Days of Adventure</p>
                    </div>
                    <div class="timeline" id="detail-timeline">
                        <!-- Days Injected Here -->
                    </div>
                </div>
            </section>

            <!-- Inclusions -->
            <section class="section bg-primary text-white">
                <div class="container">
                    <div class="section-header text-white">
                        <h2>Package Inclusions</h2>
                        <p>Everything you need for a perfect trip</p>
                    </div>
                    <div class="inclusions-grid">
                        <div class="inclusion-card">
                            <div class="icon">üè®</div>
                            <h3>Accommodation</h3>
                            <p>Comfortable hotels with breakfast included</p>
                        </div>
                        <div class="inclusion-card">
                            <div class="icon">üöå</div>
                            <h3>Transport</h3>
                            <p>AC coaches for all transfers & sightseeing</p>
                        </div>
                        <div class="inclusion-card">
                            <div class="icon">üé°</div>
                            <h3>Sightseeing</h3>
                            <p>All entry tickets & guided tours included</p>
                        </div>
                        <div class="inclusion-card">
                            <div class="icon">üë•</div>
                            <h3>Assistance</h3>
                            <p>Dedicated tour manager & 24/7 support</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Booking Form -->
            <section class="section bg-light" id="booking">
                <div class="container">
                    <div class="booking-card">
                        <div class="section-header">
                            <h2>Book Your Spot</h2>
                            <p>Secure your place in this amazing group tour</p>
                        </div>
                        <form id="booking-form" onsubmit="handleBooking(event)">
                            <div class="form-group">
                                <label>Full Name *</label>
                                <input type="text" name="fullName" required placeholder="Enter your full name">
                            </div>
                            <div class="form-group">
                                <label>Mobile Number *</label>
                                <input type="tel" name="mobile" required placeholder="Enter your mobile number">
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Adults *</label>
                                    <select name="adults">
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Children</label>
                                    <select name="children">
                                        <option value="0">0</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                    </select>
                                </div>
                            </div>
                            <div class="total-display">
                                <p>Total Amount</p>
                                <span id="booking-price">‚Çπ0</span>
                            </div>
                            <button type="submit" class="btn btn-secondary full-width">Proceed to Payment</button>
                        </form>
                    </div>
                </div>
            </section>
        </div>
    </template>

    <!-- Admin Template -->
    <template id="template-admin">
        <div class="admin-page section">
            <div class="container">
                <!-- Login Section (Shown if not authenticated) -->
                <div id="admin-login" class="auth-card">
                    <h2>Admin Login</h2>
                    <form onsubmit="handleAdminLogin(event)">
                        <div class="form-group">
                            <label>Username</label>
                            <input type="text" id="admin-username" placeholder="Enter username" required>
                        </div>
                        <div class="form-group">
                            <label>Password</label>
                            <input type="password" id="admin-password" placeholder="Enter password" required>
                        </div>
                        <div id="login-error" class="error-msg hidden">Invalid credentials</div>
                        <button type="submit" class="btn btn-primary full-width">Login</button>
                    </form>
                </div>

                <!-- Dashboard Section (Shown if authenticated) -->
                <div id="admin-dashboard" class="hidden">
                    <div class="dashboard-header">
                        <h1>Admin Dashboard</h1>
                        <button onclick="logout()" class="btn btn-danger btn-sm">Logout</button>
                    </div>
                    
                    <div class="tabs">
                        <button class="tab-btn active" onclick="switchAdminTab('list')">Itinerary List</button>
                        <button class="tab-btn" onclick="switchAdminTab('create')" id="tab-btn-create">Create New</button>
                        <button class="tab-btn" onclick="switchAdminTab('settings')">Settings</button>
                    </div>

                    <!-- List Tab -->
                    <div id="tab-list" class="tab-content active">
                        <div class="admin-list" id="admin-itinerary-list">
                            <!-- List Items Injected Here -->
                        </div>
                    </div>

                    <!-- Create/Edit Tab -->
                    <div id="tab-create" class="tab-content">
                        <div class="create-card">
                            <h2 id="form-title">Create New Itinerary</h2>
                            <form onsubmit="handleCreateItinerary(event)" id="itinerary-form">
                                <input type="hidden" id="edit-mode-id" value="">
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>Title</label>
                                        <input type="text" name="title" required placeholder="e.g. Singapore Adventure">
                                    </div>
                                    <div class="form-group">
                                        <label>Subtitle</label>
                                        <input type="text" name="subtitle" required placeholder="e.g. 5 Days | All Inclusive">
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>Price</label>
                                        <input type="text" name="price" required placeholder="e.g. ‚Çπ45,000">
                                    </div>
                                    <div class="form-group">
                                        <label>Hero Image</label>
                                        <!-- Hidden text input for URL logic -->
                                        <input type="hidden" name="heroImage" id="heroImageInput">
                                        
                                        <div class="image-upload-wrapper">
                                            <input type="url" id="heroImageUrl" placeholder="https://..." class="url-input" onchange="updateImageInput('hero', this.value)">
                                            <span class="divider">OR</span>
                                            <label class="file-upload-btn">
                                                <i data-lucide="upload"></i> Upload
                                                <input type="file" accept="image/*" onchange="handleImageUpload(event, 'hero')">
                                            </label>
                                        </div>
                                        <div id="hero-preview" class="image-preview hidden">
                                            <img src="" alt="Preview">
                                            <button type="button" class="remove-img" onclick="clearImage('hero')">√ó</button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="days-section">
                                    <h3>Daily Itinerary</h3>
                                    <div id="days-container">
                                        <!-- Day Inputs Injected Here -->
                                    </div>
                                    <button type="button" onclick="addDayInput()" class="btn btn-outline btn-sm">+ Add Day</button>
                                </div>

                                <button type="submit" class="btn btn-primary full-width mt-4" id="submit-btn">Create Itinerary</button>
                                <button type="button" onclick="resetForm()" class="btn btn-outline full-width mt-2 hidden" id="cancel-edit-btn">Cancel Edit</button>
                            </form>
                        </div>
                    </div>

                    <!-- Settings Tab (Password Change) -->
                    <div id="tab-settings" class="tab-content">
                        <div class="create-card" style="max-width: 500px; margin: 0 auto;">
                            <h2>Change Admin Password</h2>
                            <form onsubmit="handleChangePassword(event)">
                                <div class="form-group">
                                    <label>Current Password</label>
                                    <input type="password" id="current-password" required>
                                </div>
                                <div class="form-group">
                                    <label>New Password</label>
                                    <input type="password" id="new-password" required>
                                </div>
                                <div class="form-group">
                                    <label>Confirm New Password</label>
                                    <input type="password" id="confirm-password" required>
                                </div>
                                <button type="submit" class="btn btn-primary full-width">Update Password</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <!-- Payment Modal -->
    <div id="payment-modal" class="modal hidden">
        <div class="modal-content zoom-in">
            <button class="close-modal" onclick="closePaymentModal()">√ó</button>
            <h2>Complete Payment</h2>
            <p class="payment-amount">Pay: <span id="modal-amount" class="text-accent"></span></p>
            <p class="text-gray">Scan QR Code or use UPI ID</p>
            <div class="upi-box">9493936084@upi</div>
            <div class="qr-placeholder">QR Code</div>
            <button onclick="confirmPayment()" class="btn btn-accent full-width">I Have Paid</button>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast hidden">Notification Message</div>

    <script src="script.js"></script>
</body>
</html>